---
title: Git 보다 깊이 알기
date: 2025-10-13 21:04:00 +0900
categories: [Git, 얄팍한 코딩사전]
tags: [Git]
toc: true
---

### **1. Git을 특별하게 만드는 것**

> Git 등을 이전 세대 VCS들과 차별짓는 두 가지 요소인 스냅샷과 분산저장시스템의 개념

- **스냅샷 <sup> Snapshot </sup>**
   - **SVN <sup> Subversion </sup>**, 소스 코드나 파일을 중앙 저장소에서 여러 사용자가 함께 관리하고 버전 관리를 할 수 있게 해주는 중앙 집중식 버전 관리 시스템
   - **델타 방식?** 
     - **방식**: 파일에 변경이 발생할 때마다 그 **변경분(델타)**을 저장
     - **구현**: 파일의 특정 버전을 불러오려면 해당 버전까지의 모든 변경 내용을 누적해서 계산
     - **장점**: 초기에는 저장 공간을 절약할 수 있음
     - **단점**: 커밋이 많아질수록 특정 버전을 불러오는 데 필요한 계산량이 늘어나 속도가 느려짐
   - **스냅샷 방식?**
     - **방식**: 각 버전마다 파일 전체의 스냅샷(상태)을 저장
     - **구현**: 특정 버전의 파일 상태를 불러오려면 해당 버전의 스냅샷을 바로 읽어오면 됨
     - **장점**: 특정 버전의 파일을 불러오는 속도가 빠름
     - **단점**: 저장 공간을 더 많이 차지할 수 있음

#### **델타 vs 스냅샷 비교표**

| 구분            | 델타 방식 (SVN)              | 스냅샷 방식 (Git)           |
| --------------- | ---------------------------- | --------------------------- |
| **저장 방식**   | 변경분(델타)만 저장          | 파일 전체 스냅샷 저장       |
| **버전 복원**   | 모든 변경사항 누적 계산 필요 | 해당 스냅샷 직접 읽기       |
| **저장 공간**   | 초기에는 절약                | 더 많이 사용                |
| **속도**        | 커밋 많아질수록 느려짐       | 빠른 접근 속도              |
| **복잡도**      | 복잡한 계산 과정             | 단순한 읽기 과정            |
| **적합한 용도** | 변경이 적은 프로젝트         | 빈번한 변경이 있는 프로젝트 |

- **분산저장시스템 <sup> Distributed Version Control </sup>**
   - **중앙집중식 버전관리 (CVS, SVN)**
     - **구조**: 하나의 중앙 서버에 모든 버전 정보를 저장
     - **작업 방식**: 개발자들이 중앙 서버에서 파일을 체크아웃하여 작업
     - **동기화**: 모든 변경사항을 중앙 서버에 커밋해야 다른 개발자들이 확인 가능
     - **장점**: 
       - 단순한 구조로 이해하기 쉬움
       - 권한 관리가 용이함
       - 프로젝트의 전체 히스토리를 한 곳에서 관리
     - **단점**:
       - 중앙 서버 장애 시 전체 작업 중단
       - 네트워크 연결이 필수
       - 브랜치 생성과 병합이 복잡함
       - 오프라인 작업 불가능
   - **분산 버전관리 (Git, Mercurial)**
     - **구조**: 각 개발자의 로컬에 전체 저장소의 복사본을 보유
     - **작업 방식**: 로컬에서 자유롭게 커밋하고, 필요시 원격 저장소와 동기화
     - **동기화**: 여러 원격 저장소 간 자유로운 동기화 가능
     - **장점**:
       - 오프라인에서도 작업 가능
       - 빠른 로컬 작업 (네트워크 지연 없음)
       - 유연한 브랜치 전략
       - 중앙 서버 장애에 대한 내성
       - 백업의 자동화 (각 개발자마다 전체 히스토리 보유)
     - **단점**:
       - 초기 학습 곡선이 가파름
       - 저장소 크기가 클 수 있음
       - 복잡한 워크플로우

#### **중앙집중식 vs 분산 버전관리 비교표**

| 구분                | 중앙집중식 (SVN)        | 분산 (Git)              |
| ------------------- | ----------------------- | ----------------------- |
| **저장소 구조**     | 단일 중앙 서버          | 로컬 + 원격 저장소들    |
| **네트워크 의존성** | 항상 연결 필요          | 오프라인 작업 가능      |
| **작업 속도**       | 네트워크 지연 영향      | 로컬 작업으로 빠름      |
| **서버 장애**       | 전체 작업 중단          | 로컬 작업 계속 가능     |
| **브랜치 전략**     | 복잡하고 제한적         | 유연하고 강력함         |
| **학습 난이도**     | 상대적으로 쉬움         | 초기 학습 곡선 가파름   |
| **백업**            | 중앙 서버에 의존        | 자동 분산 백업          |
| **협업 방식**       | 중앙 집중적             | 분산적이고 유연함       |
| **적합한 프로젝트** | 소규모, 단순한 프로젝트 | 대규모, 복잡한 프로젝트 |

---

### **2. Git의 3가지 공간**

- **Working Directory**
  - **Untracked**: Add된 적 없는 파일, ignore 된 파일
  - **Tracked**: Add된 적 있고 변경내역이 있는 파일
    - Tracked 가 된다는 건, Git의 관리대상에 정식으로 등록됨을 의미
    - 새로 추가되는 파일은 반드시 add해줌으로써, 해당 파일이 tracked될 것임을 명시해야 하는 이유
  - `git add` 명령어로 Staging Area로 이동
- **Staging Area**
  - 커밋을 위한 준비단계
  - `git commit` 명령어로 Repository로 이동
- **Repository**
  - 커밋된 상태
  - `.git repository`라고도 불림

#### **파일의 삭제와 이동**

- git `rm`
- git `mv`
- 위 두 명령어를 이용한 작업 시, 바로 `Staging Area`에 있음을 확인

#### **파일을 Staging Area에서 Working Directory로 이동**

```terminal
git restore --staged (파일 이름)
```
- `--staged`를 빼면 working directory에서도 제거
- 예전: git reset HEAD (파일명)

#### **reset의 세 가지 옵션**

- soft: `Repository`에서 `Staging Area`로 이동
  - `add`되어 있는 상태 > Git 추적 O
- mixed (default): `Repository`에서 `Working Directory`로 이동
  - `add`되어 있지않은 상태 > Git 추적 X
- hard: 수정사항 완전히 삭제

---

### **3. HEAD**

> HEAD? 현재 브랜치의 가장 최신 커밋

- checkout으로 커밋 앞뒤 이동
```terminal
git checkout HEAD^
```
- `^` 또는 `~`: 갯수만큼 이전으로 이동
  - git checkout `HEAD^^^`, git checkout `HEAD~5`
- ⭐️ 커밋 해시를 사용해서도 이동 가능
  - git checkout (커밋해시)
- `git checkout -` : (이동을) 한 단계 되돌리기

- **HEAD 이용하여 reset**
```terminal
git reset HEAD(원하는 단계) (옵션)
```

---

### **4. fetch vs. pull**

#### **fetch와 pull의 차이**

- `fetch`: 원격 저장소의 최신 커밋을 로컬로 가져오기만 함
- `pull`: 원격 저장소의 최신 커밋을 로컬로 가져와 `merge` 또는 `rebase`

---
