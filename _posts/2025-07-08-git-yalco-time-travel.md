---
title: 시간 여행하기
date: 2025-07-08 22:17:00 +0900
categories: [Git, 얄팍한 코딩사전]
tags: [Git]
toc: true
---

### **1. 변화를 타임캡슐에 묻어 두기**

#### **프로젝트의 변경사항들을 타임캡슐(버전)에 담기**

- 추적하지 않는(Untracked) 파일 : Git의 관리에 들어간 적 없는 파일

**파일 담기**
```terminal
git add [파일명]
> 특정 파일 담기

git add .
> 모든 파일 담기
```
- 이 후 `git status` 명령어로 상태 확인

#### **타임캡슐 묻기**

```terminal
git commit
```
- Vi 입력 모드로 진입

| 작업                | Vi 명령어 | 상세                                         |
| ------------------- | --------- | -------------------------------------------- |
| 입력 시작           | `i`       | 명령어 입력 모드에서 텍스트 입력 모드로 전환 |
| 입력 종료           | `ESC`     | 텍스트 입력 모드에서 명령어 입력 모드로 전환 |
| 저장 없이 종료      | `:q`      |                                              |
| 저장 없이 강제 종료 | `:q!`     | 입력한 것이 있을 때 사용                     |
| 저장하고 종료       | `:wq`     | 입력한 것이 있을 때 사용                     |
| 위로 스크롤         | `k`       | `git log` 등에서 내역이 길 때 사용           |
| 아래로 스크롤       | `j`       | `git log` 등에서 내역이 길 때 사용           |

- 이 후 커밋 메시지 입력 후 저장하고 종료

```terminal
git commit -m [커밋 메시지]
> 커밋 메시지까지 한 줄에 작성하는 명령어

git commit -am [커밋 메시지]
> add와 commit을 한꺼번에 진행하는 명령어
> 새로 추가된 (Untracked) 파일이 없을 때만 가능능
```

```terminal
git log
> 로그 확인

git diff
> 차이 확인
```

---

### **2. 과거로 돌아가는 두 가지 방법**

- **reset** : 원하는 시점으로 돌아간 뒤 이후 내역들을 지운다.
- **revert** : 되돌리기 원하는 시점의 커밋을 거꾸로 실행한다.

---

### **3. 과거로 돌아가기 실습**

#### **실습 전 내역 백업**

- `.git` 폴더 복사해두기
  - 맥에서 숨김 파일 보기 : `command` + `shift` + `.`
- `.git` 폴더 없앤 다음 git 상태 확인

#### **reset 사용해서 과거로 돌아가기**

```terminal
git log
> 커밋 내역 확인
```
- 되돌아갈 시점 : 커밋 해시 복사
- `:q` 로 빠져나가기

```terminal
git reset --hard (돌아갈 커밋 해시)
```
- reset의 옵션 (--hard 등)은 섹션 5에서 다룸

#### **reset 하기 전 시점으로 복원해보기**

백업해둔 **.git** 폴더 사용
- `.git` 폴더 복원
- `git log`, `git status`로 상태 확인
- 아래 명령어로 현 커밋 상태로 초기화
```terminal
git reset --hard
```
- 💡 뒤에 커밋 해시가 없으면 마지막 커밋을 가리킴

#### **revert로 과거의 커밋 되돌리기**

아래 명령어로 revert
```terminal
git revert (되돌릴 커밋 해시)
```
- `:wq` 로 커밋 메시지 저장

💡 **커밋하지 않고** revert 하기
```terminal
git revert --no-commit (되돌릴 커밋 해시)
```
- 원하는 다른 작업을 추가한 다음 함께 커밋
- 취소하려면 `git reset --hard`

---
