---
title: 차원 넘나들기
date: 2025-07-17 23:06:00 +0900
categories: [Git, 얄팍한 코딩사전]
tags: [Git]
toc: true
---

### **여러 브랜치(branch) 만들어보기**

#### **브랜치 생성 / 이동 / 삭제하기**

브랜치 목록 확인
```terminal
git branch
```

브랜치 이동
```terminal
git switch (브랜치명)
```
- `checkout` 명령어가 Git 2.23 버전부터 `switch`, `restore` 로 분리

💡 브랜치 생성과 동시에 이동하기
```terminal
git switch -c (새 브랜치명)
```
- 기존의 `checkout -b (새 브랜치명)`

🗑️ 브랜치 삭제하기
```terminal
git branch -d (브랜치명)
```

📌 다른 브랜치로 가져오지 않은 내용이 있는 브랜치를 삭제할 때에는 `-d` 대신 `-D` 명령어를 사용해야 한다.
```terminal
git branch -D (브랜치명)
```

✏️ 브랜치 이름 바꾸기
```terminal
git branch -m (기존 브랜치명) (새 브랜치명)
```

#### **각각의 브랜치에서 서로 다른 작업하기**

생성한 브랜치들에 대해 다른 작업들을 진행 후 각각의 브랜치에서 커밋을 진행한다.

`git log` : 명령어를 통해 위치한 브랜치에서의 내역만 볼 수 있다.
```terminal
git log -all --decorate --oneline --graph
```

위 명령어를 터미널에 사용해서 가시적으로 볼 수 있지만 GUI 툴을 사용하는 것이 훨씬 가시성이 좋다.

---

### **branch를 합치는 두 가지 방법**

#### **서로 다른 브랜치를 합치는 두 방식**

- **merge** : 두 브랜치를 한 커밋에 이어붙인다.
  - 브랜치 사용내역을 남길 필요가 있을 때 적합한 방식
  - 다른 형태의 merge에 대해서도 이후 다룬다.
- **rebase** : 브랜치를 다른 브랜치에 이어붙인다.
  - 한 줄로 깔끔히 정리된 내역을 유지하기 원할 때 적합
  - 이미 팀원과 공유된 커밋들에 대해서는 사용하지 않는 것이 좋다.

### **실습**

#### **merge**로 합치기
- `main` 브랜치에서 진행
- 아래의 명령어로 병합
```terminal
git merge [가져올 브랜치명]
```
- `:wq`로 자동입력된 커밋 메시지 저장하여 마무리
- 소스트리에서도 확인

💡 **`merge`는 `reset`으로 되돌리기 가능**
- `merge`도 하나의 커밋이기 때문
- `merge`하기 전 해당 브랜치의 마지막 시점으로

🚮 병합된 브랜치는 삭제
```terminal
git branch -d [삭제할 브랜치명]
```
- 소스트리에서도 확인

#### **rebase**로 합치기

- `merge` 때와는 반대로 합치려고 했던 **추가 작업을 한 브랜치로 이동한 후 진행**
- 아래의 명령어로 진행
```terminal
git rebase main
```
- 소스트리에서도 상태 확인
  - `main` 브랜치는 뒤쳐져 있는 상황 > 이어 붙였기 때문
- `main` 브랜치로 이동 후 아래 명령어로 서브 브랜치의 시점👁️👁️으로 **fast-forward**
```terminal
git merge [서브 브랜치명]
```
- 이 후 브랜치 삭제 동일하게 진행

---

### **충돌 해결하기**

#### **merge 충돌 해결하기**

- **Accept Current Change**
  - 현재 내 로컬의 변경 사항을 선택
- **Accept Incoming Change**
  - 외부(서브 브랜치/커밋)의 변경 사항을 선택
- **Accept Both Changes**
  - 두 변경 사항을 모두 반영
- **Compare Changes**
  - 두 변경 사항을 비교해서 확인

💡 당장 충돌 해결이 어려울 경우 아래 명령어로 `merge` 중단
```terminal
git merge --abort
```
- 해결 가능 시 충돌 부분을 수정한 뒤 `git add .`, `git commit` 으로 병합 완료

#### **rebase 충돌 해결하기**

💡 `rebase`도 `merge`와 동일하게 당장 충돌 해결이 어려울 경우 아래 명령어로 중단
```terminal
git rebase --abort
```

- 해결 가능 시 충돌 부분을 수정한 뒤 `git add .` 까지는 동일
- 📌 아래 명령어로 계속 이어나가야 하며, 충돌이 모두 해결될 때까지 진행.
```terminal
git rebase --continue
```

> 충돌 해결하여 `main` 까지 모두 반영이 되었다면, 서브 브랜치들은 제때 삭제해줘야 혼란을 줄일 수 있음.

---

### **소스트리 (GUI) 활용한 실습**

#### **브랜치 만들고 `merge`, `rebase` 하기**

1. 브랜치 생성
   - 소스트리 상단의 `브랜치` 클릭
   - `새 브랜치 체크아웃` 체크박스에 체크가 되어 있으면, 브랜치 생성과 동시에 해당 브랜치로 switch (기본값 : Check)
2. merge
   - `main`에 위치한 뒤 생성한 브랜치를 우클릭하여 `현재 브랜치로 ... 병합` 클릭
3. rebase
   - rebase용 브랜치에 위치한 뒤 `main` 브랜치를 우클릭하여 `현재 변경 사항을 ... 재배치` 클릭
   - `main`에 이동하여 rebase용 브랜치를 우클릭하여 `현재 브랜치로 ... 병합` 클릭
4. 브랜치 삭제
   - `main` 외의 필요 없는 브랜치는 우클릭 하여 브랜치 삭제
   - `merge` 되지 않은 브랜치의 경우 `강제 삭제` 체크박스 선택
     - CLI에서의 `git branch -D` 와 동일한 개념

#### **충돌 해결하기**

> 💡 rebase의 경우 충돌 가능 시 소스트리 (GUI)를 이용한 방식은 버전의 차이와 복잡도 때문에 CLI를 권장

1. 충돌 발생 후 CLI 때와 동일하게 코드상으로 충돌을 해결 후 저장
2. 소스트리의 `커밋`으로 이동하여 모든 파일을 스테이지 상태로 올리기
3. 이 때, 커밋 메시지는 자동으로 작성되어 있음
4. 커밋 진행
5. 충돌 해결 후 `main` 브랜치 외 브랜치는 삭제 처리

---
