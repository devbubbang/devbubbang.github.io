---
title: Git은 어떻게 파일 이름을 정할까
date: 2025-04-29 23:22:00 +0900
categories: [Git, Principal]
tags: [Git, 원리]
toc: true
---

## **Git의 파일 이름 지정 방식**

Git은 매우 독특한 방식으로 파일을 저장하고 관리한다.

### **1. 내용 기반 파일 이름**

Git의 가장 큰 특징 중 하나는 **파일의 내용이 같으면 파일 이름도 같다**는 점이다. 즉, Git에서는 파일의 이름이 내용을 기반으로 자동 생성된다. 이 원리 덕분에 동일한 내용을 가진 파일은 중복 저장되지 않고 효율적으로 관리될 수 있다.

### **2. SHA-1 해시 알고리즘**

Git은 파일의 내용을 고유한 이름으로 변환하기 위해 **`SHA-1 해시 알고리즘`**을 사용한다. 예를 들어 "hello"라는 텍스트를 SHA-1 해시로 변환하면 다음과 같은 결과가 나온다:

```bash
echo "hello" | sha1sum
# aaf4c61ddcc5e8a2dabede0f3b482cd9aea9434d
```

이 해시 값은 내용이 같으면 항상 동일하고, 내용이 조금이라도 달라지면 완전히 다른 값이 나온다. Git은 바로 이 특성을 이용해 파일을 구분하고 저장한다.

### **3. Git의 파일 저장 방식**

Git이 실제로 파일을 저장할 때는 다음과 같은 과정을 거친다:

1. 파일의 내용을 읽어들인다.
2. 내용에 부가 정보를 덧붙이고 압축한다.
3. 이 압축된 데이터를 SHA-1 해시에 넣어 고유한 해시 값을 얻는다.
4. 해시 값을 기준으로 파일을 저장한다:
   - 해시 값이 `aaf4c6...`라면
   - `aa`라는 폴더를 만들고
   - 그 안에 `f4c6...`이라는 이름으로 파일을 저장한다.

이렇게 하면 저장 경로와 파일 내용이 1:1로 연결되어, 같은 내용은 같은 경로에, 다른 내용은 다른 경로에 정확하게 저장된다.

### **4. Git의 내부 동작과 인덱스 파일**

Git은 단순히 파일을 저장하는 것을 넘어서, 그 내용을 정확하게 추적한다. 파일을 저장할 때 다음과 같은 작업이 이루어진다:

1. 내용을 읽고
2. 부가 메타데이터를 붙여 압축
3. 해시 알고리즘으로 고유 이름 생성
4. 해당 이름의 디렉토리에 저장
5. `.git/index` 파일에 파일 이름 ↔ 해시 값 정보를 기록

이 index 파일 덕분에 Git은 파일의 변경 내역을 빠르고 정확하게 추적할 수 있다.

### **5. 정리**

Git의 파일 이름 지정 방식은 다음과 같은 특징을 가진다:

- 내용이 같으면 이름도 같아 중복 저장이 일어나지 않는다.
- SHA-1 해시 값은 고정된 길이의 유일한 식별자 역할을 한다.
- Git은 해시 값을 기반으로 파일의 위치와 내용을 일치시켜 저장한다.

이러한 방식으로 Git은 효율적인 버전 관리와 빠른 파일 검색이 가능해진다.
